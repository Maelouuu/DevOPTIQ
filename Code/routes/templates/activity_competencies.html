<!-- Code/routes/templates/activity_competencies.html -->

<h3>Compétences</h3>

<ul id="competencies-list-{{ item.activity.id }}">
  {% for comp in item.activity.competencies %}
    <li data-comp-id="{{ comp.id }}" class="sf-item">
      <!-- Mode affichage -->
      <div id="comp-display-{{ comp.id }}" class="sf-display">
        <span class="sf-text">{{ comp.description }}</span>
        <button class="icon-btn" onclick="editCompetency(this, {{ comp.id }})">
          <i class="fa-solid fa-pencil"></i>
        </button>
        <button class="icon-btn" onclick="deleteCompetency(this, {{ comp.id }})">
          <i class="fa-solid fa-trash"></i>
        </button>
      </div>
      <!-- Mode édition -->
      <div class="sf-edit-area" id="edit-competency-form-{{ comp.id }}" style="display:none;">
        <input type="text" class="sf-input" id="edit-competency-desc-{{ comp.id }}" value="{{ comp.description }}" />
        <button class="icon-btn" onclick="submitEditCompetency('{{ comp.id }}')">
          <i class="fa-solid fa-check"></i>
        </button>
        <button class="icon-btn" onclick="hideEditCompetencyForm('{{ comp.id }}')">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
    </li>
  {% endfor %}
</ul>

<!-- Bouton pour proposer des compétences (ouvre le modal via competency_modal.html) -->
<button onclick="fetchActivityDetailsForSkills({{ item.activity.id }})">
  Proposer Compétences
</button>

<!--
Lorsque j'active cela proposer compétences remarche mais cela casse proposer savoirs 
-->


