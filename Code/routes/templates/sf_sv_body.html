{# templates/partials/_sf_sv_body.html #}
<div class="sf-sv-grid">

  <!-- =================== SAVOIRS =================== -->
  <div class="sf-sv-column">
    <h4 class="sf-sv-subtitle">Savoirs</h4>

    {% if activity.savoirs and activity.savoirs|length > 0 %}
      <ul class="items-list">
        {% for sv in activity.savoirs %}
          <li id="savoir-{{ sv.id }}" class="sf-item">
              <!-- Mode affichage -->
              <div id="sv-display-{{ sv.id }}" class="sf-display">
                  <span id="savoir-desc-{{ sv.id }}" class="sf-text">{{ sv.description }}</span>
                  <button class="icon-btn" onclick="editSavoir('{{ sv.id }}')">
                    <i class="fa-solid fa-pencil"></i>
                  </button>
                  <button class="icon-btn icon-btn-danger" onclick="deleteSavoir('{{ activity.id }}','{{ sv.id }}')">
                    <i class="fa-solid fa-trash"></i>
                  </button>
              </div>

              <!-- Mode édition -->
              <div id="sv-edit-area-{{ sv.id }}" class="sf-edit-area" style="display:none;">
                  <input type="text" id="edit-savoir-input-{{ sv.id }}" class="sf-input" value="{{ sv.description }}" />
                  <button class="icon-btn icon-btn-success" onclick="submitEditSavoir('{{ activity.id }}','{{ sv.id }}')">
                    <i class="fa-solid fa-check"></i>
                  </button>
                  <button class="icon-btn" onclick="hideEditSavoir('{{ sv.id }}')">
                    <i class="fa-solid fa-xmark"></i>
                  </button>
              </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="empty-text">Aucun savoir enregistré.</p>
    {% endif %}

    <div class="add-item-section">
      <button class="btn-action-secondary" onclick="showAddSavoirForm('{{ activity.id }}')">
        <i class="fa-solid fa-plus"></i> Ajouter un savoir
      </button>
      <div id="add-savoir-form-{{ activity.id }}" class="inline-add-form" style="display:none;">
        <input type="text" class="sf-input" id="add-savoir-input-{{ activity.id }}" placeholder="Description du savoir" />
        <button class="icon-btn icon-btn-success" onclick="submitAddSavoir('{{ activity.id }}')">
          <i class="fa-solid fa-check"></i>
        </button>
        <button class="icon-btn" onclick="hideAddSavoirForm('{{ activity.id }}')">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- =================== SAVOIR-FAIRE =================== -->
  <div class="sf-sv-column">
    <h4 class="sf-sv-subtitle">Savoir-faire</h4>

    {% if activity.savoir_faires and activity.savoir_faires|length > 0 %}
      <ul class="items-list">
        {% for sf in activity.savoir_faires %}
          <li id="savoir-faires-{{ sf.id }}" class="sf-item">
              <!-- Mode affichage -->
              <div id="sf-display-{{ sf.id }}" class="sf-display">
                  <span class="sf-text" id="savoir-faires-desc-{{ sf.id }}">{{ sf.description }}</span>
                  <button class="icon-btn" onclick="showEditSavoirFairesForm('{{ sf.id }}')">
                    <i class="fa-solid fa-pencil"></i>
                  </button>
                  <button class="icon-btn icon-btn-danger" onclick="deleteSavoirFaires('{{ activity.id }}','{{ sf.id }}')">
                    <i class="fa-solid fa-trash"></i>
                  </button>
              </div>

              <!-- Mode édition -->
              <div id="sf-edit-area-{{ sf.id }}" class="sf-edit-area" style="display:none;">
                  <input type="text" id="edit-savoir-faires-input-{{ sf.id }}" class="sf-input" value="{{ sf.description }}" />
                  <button class="icon-btn icon-btn-success" onclick="submitEditSavoirFaires('{{ activity.id }}','{{ sf.id }}')">
                    <i class="fa-solid fa-check"></i>
                  </button>
                  <button class="icon-btn" onclick="hideEditSavoirFairesForm('{{ sf.id }}')">
                    <i class="fa-solid fa-xmark"></i>
                  </button>
              </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="empty-text">Aucun savoir-faire enregistré.</p>
    {% endif %}

    <div class="add-item-section">
      <button class="btn-action-secondary" onclick="showAddSavoirFairesForm('{{ activity.id }}')">
        <i class="fa-solid fa-plus"></i> Ajouter un savoir-faire
      </button>
      <div id="add-savoir-faires-form-{{ activity.id }}" class="inline-add-form" style="display:none;">
        <input type="text" class="sf-input" id="add-savoir-faires-input-{{ activity.id }}" placeholder="Description du savoir-faire" />
        <button class="icon-btn icon-btn-success" onclick="submitAddSavoirFaires('{{ activity.id }}')">
          <i class="fa-solid fa-check"></i>
        </button>
        <button class="icon-btn" onclick="hideAddSavoirFairesForm('{{ activity.id }}')">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
    </div>
  </div>

</div>
